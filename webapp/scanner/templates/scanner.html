{% load static %}
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <link type="text/css" rel="stylesheet" href="/static/scanner/css/scanner.css"></link>
    <link type="text/css" rel="stylesheet" href="/static/scanner/css/spinner.css"></link>
    <link type="text/css" rel="stylesheet" href="/static/scanner/css/checkboxes.css">
    <script src="/static/scanner/js/jquery.min.js"></script>
    <!-- TODO: on-screen keyboard
    one potential lib: https://github.com/Mottie/Keyboard
    <script src="/static/js/some-kb-lib.js"></script>
    <link rel="stylesheet" href="/static/style/keyboard-basic.min.css" type="text/css"></link>
    -->
    <script>
      var g_location = {{ location_json|safe }};
      var g_events = {{ events_json|safe }};
    </script>
    <script src="/static/scanner/js/scanner.js"></script>
  </head>
  <body onload="resetPage();">
    <!-- ============== Scan ============== -->
    <div><a id="123"></a></div>
    <div class="screen" id="scan"><div class="section">
      <h1>Sign In</h1>

      <div style="display:inline-block; text-align:center;">
        <div class="tile tile-large">
          <h2>Member</h2>
          <img class="qrcode" src="/static/scanner/img/qrcode-sample.svg">
        </div>
        <div class="tile tile-thin">
          <span style="height:15vh; display:inline-block;">&nbsp;</span>
          <h1>OR</h1>
        </div>
        <div class="tile tile-large">
          <h2>Guest</h2>
          <div class="button" onclick="jumpTo('signin');">Sign in<br/>as Guest</div>
        </div>
      </div>

      <form id="scanform" onsubmit="submitScan(); return false;">
        <input name="contact_id" type="text" size="35" />
      </form>
    </div></div>

    <!-- ============== Sign in as Guest ============== -->
    <div class="screen" id="signin"><div class="section">
      <h1>Sign in as Guest</h1>
      <form id="guestform">
        <p>
          Name: <input name="name" type="text" size="45">
        </p>
        <p>
          Email Address: <input name="email" type="text" size="45">
        </p>
        <input type="submit" />
      </form>
    </div></div>

    <ul>
      <li>Name: <span class="first_name"></span> <span class="last_name"></span></li>
      <li>Status: <span class="status_name"></span></li>
    </ul>


    <!-- ============== Event Selection ============== -->
    <div class="screen" id="events"><div class="section">
      <h2>Hello <span class="first_name"></span></h2>
      <h3>Which event are you attending?</h3>
      <form class="form" id="eventform">
        {% for event in events %}
        <div class="radiocheck">
          <input id="ev{{ event.pk }}" name="event" class="radio" type="radio"/>
          <label for="ev{{ event.pk }}">{{ event.title }}</label>
        </div>
        {% endfor %}
        <div class="tile tile-large">
          <div class="button" onclick="submitEvent();">Check In</div>
        </div>
      </form>
    </div></div>

    <!-- ============== Recording Attendance ============== -->
    <div class="screen" id="saving"><div class="section">
      <h1>Checking In</h1>
      <div class="spinner"></div>
      <form id="attendanceform">
        {% csrf_token %}
        <input type="hidden" name="member_pk">
        <input type="hidden" name="event_pk">
      </form>
    </div></div>

    <!-- ============== Welcome ============== -->
    <div class="screen" id="welcome"><div class="section">
      <h2>Welcome <span class="first_name"></span>!</h2>
      <p>
        You're attending: <b><span class="event_name"></span></b>.
      </p>
      <p>
        Your membership status is: <b><span class="status_name"></span></b>
      </p>


    </div></div>
  </body>
</html>
